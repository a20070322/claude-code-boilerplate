# 🎉 配置完成!使用指南

## ✅ 已完成的配置

### 1. 核心配置文件
- ✅ `.claude/settings.json` - 核心配置,定义所有钩子
- ✅ `.claude/CLAUDE.md` - 项目总规范文档

### 2. 4个生命周期钩子
- ✅ `session-start.mjs` - 会话启动时显示项目状态
- ✅ `user-prompt-submit.mjs` - **强制技能评估(核心)**
- ✅ `pre-tool-use.mjs` - 危险命令拦截
- ✅ `stop.mjs` - 任务完成总结建议

### 3. 6个专业技能
- ✅ `uni-page-generator` - 页面生成规范
- ✅ `alova-api-module` - API 模块创建
- ✅ `pinia-store-generator` - Pinia Store 规范
- ✅ `global-feedback` - 全局反馈组件
- ✅ `wot-router-usage` - 路由导航指南
- ✅ `vue-composable-creator` - 组合式函数创建

### 4. 5个斜杠命令
- ✅ `page.md` - 创建 uni-app 页面
- ✅ `api.md` - 创建 API 模块
- ✅ `store.md` - 创建 Pinia Store
- ✅ `component.md` - 创建 Vue 组件
- ✅ `check.md` - 代码规范检查

### 5. 2个代理
- ✅ `code-reviewer` - 代码审查代理
- ✅ `project-manager` - 项目管理代理

### 6. 项目文档
- ✅ `README.md` - 项目说明文档
- ✅ `docs/项目状态.md` - 开发进度跟踪
- ✅ `docs/待办清单.md` - 待办事项管理

---

## 🚀 立即开始使用

### 第一步:启动 Claude Code

在当前目录下启动 Claude Code,会自动触发 `session-start` 钩子:

```
## 🚀 Wot Starter 前端项目会话已启动
**时间**: 2025/01/31 12:00:00
**Git 分支**: `main`

💡 **快捷命令**:
| 命令 | 说明 |
|------|------|
| /page | 创建页面 (支持主包/分包) |
| /api | 创建 API 模块和 Mock |
| /store | 创建 Pinia Store |
| /component | 创建 Vue 组件 |
| /check | 代码规范检查 |

**核心技能**:
- 📄 uni-page-generator - 页面生成
- 🌐 alova-api-module - API 模块
- 📦 pinia-store-generator - 状态管理
- 🎨 vue-composable-creator - 组合式函数
- 🛣️ wot-router-usage - 路由导航
- 💬 global-feedback - 全局反馈
```

### 第二步:体验强制技能评估

输入任何代码相关需求,AI 会强制评估技能:

```
你: 帮我写一个用户登录页面

Claude:
## 步骤 1 - 评估
针对以下每个技能,陈述: [技能名] - 是/否 - [理由]

可用技能列表:
- uni-page-generator - 是 - 需要创建页面
- alova-api-module - 是 - 需要调用登录接口
- pinia-store-generator - 是 - 需要管理用户状态
- global-feedback - 是 - 需要错误提示

## 步骤 2 - 激活
✓ 激活 uni-page-generator 技能
✓ 激活 alova-api-module 技能
✓ 激活 pinia-store-generator 技能
✓ 激活 global-feedback 技能

## 步骤 3 - 实现
[开始创建符合规范的代码...]
```

### 第三步:使用斜杠命令

**创建页面**:
```
/page 创建用户个人中心页面
```

**创建 API**:
```
/api 创建订单相关的 API
```

**创建 Store**:
```
/store 创建购物车状态管理
```

**代码检查**:
```
check
```

### 第四步:代码审查

完成功能后,使用代理审查:

```
@code-reviewer 审查我刚才写的登录功能
```

会生成详细的审查报告,包括:
- ✅ 通过项
- ⚠️ 警告项
- ❌ 错误项
- 修复建议

---

## 📋 核心规范速查

### 禁止事项
```
❌ uni.showToast        → ✅ useGlobalToast()
❌ uni.navigateTo      → ✅ router.push()
❌ uni.request         → ✅ Alova
❌ <style> 复杂样式    → ✅ UnoCSS
```

### 必须使用
```
✅ <script setup> 语法
✅ UnoCSS 原子化样式
✅ wot-design-uni 组件
✅ Alova 发送请求
✅ Pinia 管理状态
✅ useRouter() 导航
✅ GlobalFeedback 处理交互
```

---

## 🎯 典型使用场景

### 场景1:快速创建页面

```
你: /page 创建用户登录页面

Claude:
### 步骤 1: 确定页面类型
这是一个登录页面,应该是主包普通页面

### 步骤 2: 激活技能
✓ 激活 uni-page-generator 技能

### 步骤 3: 生成页面结构
创建: src/pages/login/index.vue

[生成完整代码...]

### 步骤 4: 创建 API
✓ 激活 alova-api-module 技能
创建: src/api/mock/modules/user.ts

### 步骤 5: 创建 Store
✓ 激活 pinia-store-generator 技能
创建: src/store/userStore.ts

### 步骤 6: 测试验证
运行: pnpm dev:h5
```

### 场景2:代码规范检查

```
你: /check

Claude:
## 📋 代码检查报告

### ✅ 通过项
- [x] 使用 UnoCSS 原子化样式
- [x] 使用 wot-design-uni 组件
- [x] 使用 Alova 发送请求

### ⚠️ 警告项
- [ ] 缺少错误处理
  建议: 使用 useGlobalToast 显示错误信息

### ❌ 错误项
无

### 修复命令
pnpm lint:fix
```

### 场景3:项目管理

```
你: /update-status 我刚完成了登录功能

Claude:
## 项目状态已更新

### 最新进度
- ✅ 用户登录功能 (2025-01-31)

### 当前进度
- 已完成: 用户登录
- 进行中: 用户注册
- 计划中: 个人中心、订单管理
```

---

## 💡 最佳实践

### 1. 优先使用命令
```
✅ /page 创建用户页面
❌ 帮我写一个用户页面
```

### 2. 及时审查代码
```
✅ 完成后立即 @code-reviewer
❌ 等到提交前才检查
```

### 3. 定期检查规范
```
✅ 每次提交前 /check
❌ 只在有问题时才检查
```

### 4. 保持状态更新
```
✅ 完成功能后 /update-status
❌ 项目结束才更新
```

---

## 🔍 常见问题

### Q1: AI 不遵守规范怎么办?

**A**: 检查 `hooks/user-prompt-submit.mjs` 是否正常工作

这个钩子会强制 AI 评估技能,确保规范执行。

### Q2: 如何修改规范?

**A**: 编辑 `.claude/skills/*/SKILL.md` 文件

每个技能都有"禁止事项"和"检查清单"章节,可以根据项目需求修改。

### Q3: 如何添加新命令?

**A**: 在 `.claude/commands/` 目录下创建新的 `.md` 文件

参考现有命令的格式,按照步骤编写即可。

### Q4: 代理如何使用?

**A**:
- `@code-reviewer` - 审查代码
- `@project-manager` - 管理项目

直接在对话中调用即可。

---

## 📊 效果对比

### 使用前

```
你: 帮我写一个用户登录页面

AI: [可能写出不符合规范的代码]
    - 使用了 uni.showToast ❌
    - 没有使用 UnoCSS ❌
    - 没有错误处理 ❌
    - 代码风格不一致 ❌

结果: 需要大量修改才能使用
```

### 使用后

```
你: /page 创建用户登录页面

AI:
✅ 强制评估技能
✅ 激活相关技能
✅ 生成符合规范的代码
    - 使用 definePage 宏 ✅
    - 使用 wot-design-uni ✅
    - 使用 UnoCSS 样式 ✅
    - 使用 Alova 请求 ✅
    - 使用 GlobalToast 反馈 ✅
    - 完整的错误处理 ✅

✅ @code-reviewer 审查通过
✅ /check 检查通过

结果: 开箱即用,无需修改
```

---

## 🎓 进阶使用

### 自定义技能

1. 在 `.claude/skills/` 创建新目录
2. 创建 `SKILL.md` 文件
3. 按照 YAML Frontmatter 格式定义:
   ```markdown
   ---
   name: your-skill
   description: 技能描述
   ---

   # 技能内容
   ```

### 自定义命令

1. 在 `.claude/commands/` 创建 `.md` 文件
2. 按照以下格式编写:
   ```markdown
   # /命令名 - 描述

   ## 使用方法
   ```

### 自定义代理

1. 在 `.claude/agents/` 创建新目录
2. 创建 `AGENT.md` 文件
3. 定义代理的触发方式和执行逻辑

---

## 📞 获取帮助

- 查看 `README.md` 了解完整配置
- 查看 `.claude/CLAUDE.md` 了解项目规范
- 查看 `docs/项目状态.md` 了解开发进度
- 查看各技能的 `SKILL.md` 了解详细规范

---

## 🎉 开始你的高效开发之旅!

配置已完成,现在可以开始使用 Claude Code 进行高效的 Wot Starter 前端开发了!

记住: **优先使用命令,及时审查代码,遵循规范,享受开发乐趣!** 🚀
